<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> floating-chat playground </title>
    <style>
    </style>
  </head>
  <body>
    <button id="open">열기/닫기</button>
    <label>
      <input type="checkbox" onchange="globalThis.chat.setOption('transport', this.checked? 'sse' : 'xhr')" />
      SSE 사용
    </label>
    <div id="wrapper"></div>
    <script type="module">

import FloatingChat from './src/index.js'

globalThis.chat = new FloatingChat('#wrapper', {
  qna: 'aaaaa',
  endpoint: '/.api',
  headers: {
    Authorization: 'bearer asdf'
  }
})

globalThis.chat.setContext({ courseId: 200 })

document.getElementById('open').addEventListener('click', () => {
  globalThis.chat.toggle()
})

    </script>
  </body>
</html>
